?mod
3 % 5
3 %% 5
5 %% 3
(int) (5/3)
5/3
floor(5/3)
floor(6/3)
max(5,0)
f <- function(x){}
f <- function(x){
floor((min(30, x) - 1)/10)
}
f(8)
f(9)
f(10)
f(11)
f(19)
f(20)
f(30)
f(31)
packages <- c("jsonlite", "dplyr", "purrr", "tidytext", "ggplot2", "lubridate")
purrr::walk(packages, library, character.only = TRUE, warn.conflicts = FALSE)
setwd('/home/alin/MyLearning/Kaggle/TwoSigma/data')
data <- fromJSON("train.json")
# unlist every variable except `photos` and `features` and convert to tibble
vars <- setdiff(names(data), c("photos", "features"))
#library(tibble)
#library(purrr)
train_df <- map_at(data, vars, unlist) %>%
tibble::as_tibble(.) %>%
mutate(interest_level = factor(interest_level, c("low", "medium", "high")))
train_df$day <- day(train_df$created)
table(train_df$day)
train_df$day10 <- min(train_df$day) - 1
table(train_df$day10)
f
train_df$day10 <- f(train_df$day)
table(train_df$day10)
class(train_df)
?map_df
train_df$day10 <- map_df(train_df$day, f)
a <- map_df(train_df$day, f)
train_df %>% select("day")
a <- train_df %>% select(`day<-`())
a <- train_df %>% select(day)
b <- a %>% f
b <- a %>% map(,f)
pull <- function(x,y) {
x[,if(is.name(substitute(y))) deparse(substitute(y)) else y, drop = FALSE][[1]]
}
x <- train_df %>% pull('day')
g <- f(x)
table(g)
str9x
str(x)
f
min(30, x)
class(x)
is.list(x)
is.vector(x)
a <- c(1,3,30)
f(a)
map(a,f)
g <- map(a,f)
g
unlist(g)
x
g <- map(x, f)
str9g
str(g)
g1 <- unlist(g)
str(g1)
train_df$day10 <- unlist(map(train_df$day, f))
table(train_df$day10)
f
?syuzhet
train_df$month <- month(train_df$created)
table(train_df$month, train_df$interest_level)
q()
